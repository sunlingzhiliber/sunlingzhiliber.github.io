---
layout: post
title: 代码维护重构之道
date: 2018-07-10
author: Liber Sun
header-img: img/post-basic.jpg
tags:
  - 代码重构
---

# 什么是重构

重构，旨在不要改变对外暴露行为的前提下，对代码内部逻辑进行调整优化，提高其**理解性**，降低其**修改成本**。

# 何时重构？

重构不是心血来潮，而是随手为之。

>让营地比你来时更干净。  --童子军军规

每次代码都比上一次好一点点，不需要太大的变化，就是更改一个变量名，拆分一个过长的函数，消除上次为了赶时间而拷贝的重复代码，清理一个嵌套的if语句等，
代码是注定会随着时间流逝而腐坏的，我们应该积极的阻止腐败的发生。

# 如何重构？

我们需要达到的效果是 理解成本低，修改成都低。

逻辑重复，当波浪线充斥在你代码之中时(idea duplicated)，请及时抽象相同部分的代码。
长函数，当你的函数超过一个屏幕的时候,尝试着将其分解为小函数，并搭配上符合自然语言理解的函数名。
太多的参数，多个参数理解困难，使用困难，尝试着利用对象或者容器来解决问题。
函数出轨，一个函数多次调用某一个类，那么请把这个函数还给这个类吧。
变化扩散(需求增加)，当某一个需求被突然空降时，你需要修改很多地方才能实现，那么就这就意味着你有很大的改进空间。
工具小助手，别问了？多去找找轮子，你的问题别人都会遇到。
意淫的代码，你的程序不需要那么复杂，提高了系统复杂性和理解成本，你可能并获取不到太大的益处。
过多的注释，等于难以理解的代码！想想办法，让注释变得多余，你的代码自然而然就得到了优化。
两兄弟，当两个类十分相似的时候，他们或许是一对兄弟，那么为他们创建一个父亲吧(基类)。
Switch过多，当case增多的时候，不免我们需要满世界的去寻找哪里用了Switch，不如考虑利用接口来实现。` List<String> list=new ArrayList<>();`,具体的实现由实现类去实现。



