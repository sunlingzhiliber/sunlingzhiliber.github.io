---
layout:     post
title:      Linux
author:     Liber Sun
header-img: img/post-basic.jpg
catalog: true
tags:
    - Linux
---

# 常用命令

## 文件管理

```shell
ls 查看文件  d rwx r-x r-x  d是目录 r是read 其值为4 w是write 其值为2 x是执行权限 其值为1 
chmod 修改权限
cd 切换
pwd 显示当前目录
cat 由第一行开始显示文件内容
tac 从最后一行开始显示
nl 输出行号
more 一页一页显示
head 只看头 默认显示10行
tail 只看尾
```

1.返回文件夹以及文件的个数 `ls -l | grep "^[d,-]"| wc -l`   ^是行首， d是文件夹， -是文件

## 文档编辑

```shell
grep 检索

```

## 文件传输

```shell
ftp
```

## 磁盘管理

## 磁盘维护

## 网络通讯

```shell
telnet
netcof
```

## 系统管理

## 系统设置

## 备份压缩

## 设备管理

## 其他命令

# 分析静态链接的不足，以及动态链接的特点。

静态链接是指在程序运行前，先将各目标模块以及他们需要的库函数，链接成一个完整的模块，以后不再拆开的链接方式。

动态链接是指用户源程序编译后得到的一组目标模块，在装入内存时采用边装入边链接的链接方式。只有在需要特定目标模块时才会对模块进行链接。


# 分段存储

1.方便编程，每个段都从0编址，由用户定义长度。
2.信息共享，段是逻辑单位，便于共享
3.信息保护
4.动态增长
5.动态链接，动态链接要求以段为管理单位。

# 分页存储管理

为了实现分页存储管理，需要以下的硬件支持：
1.动态重定位技术
2.虚拟存储技术
3.多道程序设计技术

# 分页和分段的区别

1.页是信息的物理单位，分页是为了实现离散的分配方式，提高内存利用率；段是信息的逻辑单位，它含有一组相对完整的信息。
2.页的大小由系统决定，由系统将逻辑地址划分为页号和页内地址；段的长度不固定，由用户的程序决定。
3.页的地址空间是以为的，段的地址空间是二维的。



# 虚拟存储系统

虚拟内存是计算机系统内存管理的一种技术。它使得应用程序认为它拥有连续的可用的内存（一个连续完整的地址空间），而实际上，它通常是被分隔成多个物理内存碎片，还有部分暂时存储在外部磁盘存储器上，在需要时进行数据交换。

分页系统的基础上，增加了请求调页功能、页面置换功能所形成的页式虚拟存储系统。
分段系统的基础上，增加了请求调段功能、段置换功能所形成的段式虚拟存储系统。

为了实现请求调页（段）和置换功能，系统必须提供必要的硬件支持。其中，最重要的是：

1.请求分页（段）的页（段）表机制
2.缺页（段）中断机构
3.地址变换机构

# 页面置换

在地址映射过程中，若在页面中发现要访问的页面不再内存中，则产生`缺页中断`。
当出现缺页中断，如果操作系统内存中没有空闲页面，则必须选择一个页面将其移除内存，而用来进行淘汰页面的算法就是页面置换算法。

## OPT最佳置换算法

理想情况下的页面置换算法，但是不可能实现，其思想为：其他页面最迟被访问的页面应该被置换，但是操作系统是无法直接哪个页面最迟被访问。

## FIFO

总是选择在主存中停留时间最长（即最老）的一页置换，即先进入内存的页，先退出内存。

## LRU

LRU算法是与每个页面最后使用的时间有关的。当必须置换一个页面时，LRU算法选择过去一段时间里最久未被使用的页面。
需要寄存器和栈等硬件支持

# PCB

程序控制块


# 死锁必要条件、解决死锁策略，能写出和分析死锁的代码，能说明在数据库管理系统或者 Java 中如何解决死锁。


# 进程调度算法的特点以及使用场景

协同式线程调度：线程的执行时间以及线程的切换都是由线程本身来控制，线程把自己的任务执行完后，主动通知系统切换到另一个线程。优点是没有线程安全的问题，缺点是线程执行的时间不可控，可能因为某一个线程不让出CPU，而导致整个程序被阻塞。

抢占式调度模式：线程的执行时间和切换都是由系统来分配和控制的。不过可以通过设置线程优先级，让优先级高的线程优先占用CPU。

Java虚拟机默认采用抢占式调度模型


# 进程和线程

线程与进程相似，但线程是一个比进程更小的执行单位,是CPU调度和分配的基本单位。线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源.
一个进程在其执行的过程中可以产生多个线程。
与进程不同的是同类的多个线程共享同一块内存空间和一组系统资源，所以系统在产生一个线程，或是在各个线程之间作切换工作时，负担要比进程小得多，也正因为如此，线程也被称为轻量级进程。
另外，也正是因为共享资源，所以线程中执行时一般都要进行同步和互斥。
总的来说，进程和线程的主要差别在于它们是不同的操作系统资源管理方式。

## 进程之间的通信

1. 管道（pipe）：管道是一种半双工的通信方式，数据只能单向流动，而且只能在具有血缘关系的进程间使用。进程的血缘关系通常指父子进程关系。管道分为pipe（无名管道）和fifo（命名管道）两种，命名管道也是半双工的通信方式，但是它允许无亲缘关系进程间通信。
2. 信号量（semophore）：信号量是一个计数器，可以用来控制多个进程对共享资源的访问。它通常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。
3. 消息队列（message queue）：消息队列是由消息组成的链表，存放在内核中 并由消息队列标识符标识。消息队列克服了信号传递信息少，管道只能承载无格式字节流以及缓冲区大小受限等缺点。消息队列与管道通信相比，其优势是对每个消息指定特定的消息类型，接收的时候不需要按照队列次序，而是可以根据自定义条件接收特定类型的消息。
4. 共享内存（shared memory）：共享内存就是映射一段能被其他进程所访问的内存，这段共享内存由一个进程创建，但多个进程都可以访问，共享内存是最快的IPC方式，它是针对其他进程间的通信方式运行效率低而专门设计的。它往往与其他通信机制，如信号量配合使用，来实现进程间的同步和通信。
5. 套接字（socket）：套接口也是一种进程间的通信机制，与其他通信机制不同的是它可以用于不同及其间的进程通信。

## 线程之间的通信

开发过程中，存在这样的场景。
所有子线程执行完毕，通知主线程处理某种逻辑的场景。或者线程A在执行到某个条件时通知线程B进行某个操作。


## 进程和线程的同步

同步：使其顺序执行。同步就是顺序执行，执行完一个再执行下一个，需要等待、协调运行。

1.互斥量
2.信号量
3.事件（信号）
4.临界区