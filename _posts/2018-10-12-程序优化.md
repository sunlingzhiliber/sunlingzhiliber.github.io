---
layout:     post
title:      程序优化
author:     Liber Sun
header-img: img/post-basic.jpg
catalog: true
tags:
---

# 代码优化

之所以把代码放到第一位，是因为这一点最容易引起技术人员的忽视。很多技术人员拿到一个性能优化的需求以后，言必称缓存、异步、JVM等。实际上，第一步就应该是分析相关的代码，找出相应的瓶颈，再来考虑具体的优化策略。有一些性能问题，完全是由于代码写的不合理，通过直接修改一下代码就能解决问题的，比如for循环次数过多、作了很多无谓的条件判断、相同逻辑重复多次等。

# 数据库优化

## 分库分表

分库分表是解决大表性能瓶颈的一种方法，当然也分为横向拆分和纵向拆分，横向拆分指的就是减少单表的数据量，放到其他表或者其他库中。纵向拆分则一般指按照业务来拆分，把不必要的字段放到其他表中。
分库分表可以在应用层做，通过对id或者其他字段进行hash以便映射到对应的表中。当然也可以通过数据库中间件来完成，例如mycat这种中间件，通过代理的方式实现分库分表，非常方便。

## 读写分离

这是数据库高可用的基础。MySQL数据库会使用日志来完成主从复制，先写主库，然后再同步到从库。读写分离则一般是指的是：从库负责读，主库负责写。


## SQL调优

## 架构层面的调优

## 连接池的调优

# 缓存优化

# 异步

# NOSQL

# JVM调优

# 多线程与分布式

# 度量系统（监控、报警、服务依赖管理）